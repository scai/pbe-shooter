<?xml version="1.0" encoding="utf-8"?>
<things version="1">
	<entity name="spatialManager">
		<component type="com.pblabs.rendering2D.BasicSpatialManager2D"
			name="manager" />
	</entity>

	<entity name="scene">
		<component type="com.pblabs.rendering2D.DisplayObjectScene"
			name="scene">
			<sceneViewName>sceneView</sceneViewName>
			<position>
				<x>0</x>
				<y>0</y>
			</position>
		</component>
	</entity>

	<template name="bullet">
		<component type="com.pblabs.rendering2D.SimpleShapeRenderer"
			name="render">
			<scene entityName="scene" componentName="scene" />
			<fillColor>0xFFFFFF</fillColor>
			<lineColor>0xFFFFFF</lineColor>
			<isSquare>true</isSquare>
			<lineSize>2</lineSize>
			<layerIndex>2</layerIndex>
			<alpha>0</alpha>
			<positionProperty>@spatial.position</positionProperty>
			<sizeProperty>@spatial.size</sizeProperty>
		</component>
		<component type="com.pblabs.rendering2D.SimpleSpatialComponent"
			name="spatial">
			<spatialManager entityName="spatialManager" />
			<velocity>
				<x>0</x>
				<y>-500</y>
			</velocity>
			<size>
				<x>5</x>
				<y>5</y>
			</size>
			<objectMask>
				<typeName>bullet</typeName>
			</objectMask>
		</component>
		<component type="com.caichoi.BulletController" name="controller">
			<render componentName="render" />
			<spatial componentName="spatial" />
			<active>false</active>
		</component>
	</template>

	<template name="enemy">
		<component type="com.pblabs.rendering2D.SpriteRenderer"
			name="render">
			<scene entityName="scene" componentName="scene" />
			<fileName>assets/enemy.png</fileName>
			<layerIndex>10</layerIndex>
			<positionProperty>@spatial.position</positionProperty>
			<sizeProperty>@spatial.size</sizeProperty>
		</component>
		<component type="com.pblabs.rendering2D.SimpleSpatialComponent"
			name="spatial">
			<spatialManager entityName="spatialManager" />
			<size>
				<x>30</x>
				<y>30</y>
			</size>
			<objectMask>
				<typeName>enemy</typeName>
			</objectMask>
		</component>
	</template>

	<entity name="enemy1" template="enemy">
		<component name="spatial">
			<position>
				<x>0</x>
				<y>-200</y>
			</position>
		</component>
	</entity>
	<entity name="enemy2" template="enemy">
		<component name="spatial">
			<position>
				<x>-100</x>
				<y>-250</y>
			</position>
			<size>
				<x>40</x>
				<y>35</y>
			</size>
		</component>
	</entity>
	<entity name="enemy3" template="enemy">
		<component name="spatial">
			<position>
				<x>120</x>
				<y>-110</y>
			</position>
			<size>
				<x>80</x>
				<y>70</y>
			</size>
		</component>
	</entity>

	<entity name="player">
		<component type="com.pblabs.rendering2D.SpriteRenderer"
			name="render">
			<scene entityName="scene" componentName="scene" />
			<fileName>assets/plane.png</fileName>
			<layerIndex>10</layerIndex>
			<positionProperty>@spatial.position</positionProperty>
			<sizeProperty>@spatial.size</sizeProperty>
		</component>

		<component type="com.pblabs.rendering2D.SimpleSpatialComponent"
			name="spatial">
			<spatialManager entityName="spatialManager" />
			<size>
				<x>50</x>
				<y>50</y>
			</size>
			<position>
				<x>0</x>
				<y>0</y>
			</position>
			<objectMask>
				<typeName>player</typeName>
			</objectMask>
		</component>

		<component type="com.caichoi.KeyboardInput" name="keyboardInput">
			<inputMap childType="com.pblabs.engine.core.InputKey">
				<up>W</up>
				<down>S</down>
				<left>A</left>
				<right>D</right>
				<shoot>J</shoot>
			</inputMap>
		</component>

		<component type="com.caichoi.PlayerController" name="controller">
			<keyboardInput componentName="keyboardInput" />
			<spatial componentName="spatial" />
			<shootInterval>0.1</shootInterval>
		</component>
	</entity>

	<group name="enemies">
		<objectReference name="enemy1" />
		<objectReference name="enemy2" />
		<objectReference name="enemy3" />
	</group>
	<group name="main">
		<objectReference name="spatialManager" />
		<objectReference name="scene" />
		<objectReference name="player" />
		<groupReference name="enemies" />
	</group>
</things>